# Traffic Light

## 코드 및 영상 설명

### <h1 style="color:blue;">시작코드</h1>
**traffic_light.py**
- `cv2` 함수 중 허프 변환을 통해 도형을 구분할 수 있는 **`cv2.HoughCircles`** 함수를 사용하여 신호등 원을 찾아내는 코드입니다.
- 다른 코드들의 기본 틀을 제공하는 시작 코드입니다.

### 노이즈 제거를 위한 가우시안 및 메디안 블러 처리
- **traffic_light_gaussian.py**
  - 가우시안 블러 적용
- **traffic_light_median.py**
  - 메디안 블러 적용
  
#### 허프 변환의 한계
- 허프 변환은 도형을 구분하는 데는 효과적이지만, 완전한 원형이 아니면 인식이 잘되지 않기에 다른 방식을 시도했습니다.
- 실제로는 차량과 신호등이 정면을 마주할 상황이 많지 않기 때문에 다른 접근법을 고려했습니다.

#### 새로운 검출 방식
- 슬라이딩 윈도우처럼 원형의 윈도우를 만든 뒤, 차례차례 옮겨가며 특정 색상의 픽셀을 구분하여 원으로 표시합니다.
- 윈도우 안에 가장 많은 픽셀이 있는 원을 선택하여 그리며, 각 색깔에 대한 정보를 마스크로 따로 검출하도록 설정합니다.
- 신호등 색과 비슷한 다른 색과 충돌할 수 있으므로, 픽셀의 임계값을 설정하여 특정 값 이하의 경우 원을 그리지 않도록 처리합니다.

### 코드 분리
- **traffic_light_checker.py**
  - 아래의 코드와 같이 작동하면 렉이 너무 심하기에 코드를 분리했습니다.
  - 이 코드를 통해 신호등의 각 색이 잘 보이는 색상을 추출하여 아래 코드에서 사용합니다.
  
- **traffic_light_cir_window.py**
  - 위 코드에서 추출한 색을 통해 윈도우를 만들어 색을 감지합니다.
  - 윈도우의 크기, 스텝 간격, ROI 등 여러 설정을 변경하며 실험이 가능합니다.
  - 트랙바를 통해 픽셀의 최소 임계값을 설정할 수 있습니다.
